<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html xmlns:ng="http://angularjs.org" ng-app="atlas">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Atlas de Extensión Urbana</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="css/flat-ui.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/atlas.css">

    <script src="js/vendor/modernizr-2.6.2.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3swa2pSSQ9WNV5M6bRHzss6IW9E-bOUQ&sensor=false"></script>
</head>
<body ng-controller="AppController">
<!--[if lt IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->

<div id="content">
<div id="data">
    <div class="alert alert-info" style="padding-right: 18px">
        <div style="margin-bottom: 10px">
            <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !chartVisible, 'glyphicon-chevron-down': chartVisible}" style="font-size: 12px"></span>
            <a href="#" prevent-click data-toggle="collapse" data-target="#chart" class="collapse-toggle" style="margin-bottom: 10px">Indicadores de Fragmentación</a>
        </div>
        <div id="chart" class="collapse" on-collapse="chartVisible">
            <p>Miden la magnitud del espacio abierto dentro de áreas construidas, es decir la discontinuidad del tejido urbano en diferentes escalas, desde la escala de edificación (micro escala) a la del barrio.</p>
        </div>

        <div axis style="height: 25px"></div>
        <div chart="edge"></div>
        <div>
            <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !edgeChartVisible, 'glyphicon-chevron-down': edgeChartVisible}" style="font-size: 12px"></span>
            <a href="#" prevent-click data-toggle="collapse" data-target="#edgeChart" class="collapse-toggle" style="margin-right: -30px; margin-bottom: 10px">Índice de continuidad</a>
        </div>
        <div id="edgeChart" class="collapse" on-collapse="edgeChartVisible">
            <p>Mide la fragmentacion de las areas construidas, es decir, la frecuencia en que los pixeles construidos son adyacentes a pixeles no construidos.*  Estos  valores varían entre 0 y 1, representando los valores más altos la mayor frecuencia de pixeles construidos adyacentes a espacios abiertos.</p>
            <p><small>*Unidad de análisis pixeles de 30x30.</small></p>
        </div>

        <div chart="openness"></div>
        <div>
            <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !opennessChartVisible, 'glyphicon-chevron-down': opennessChartVisible}" style="font-size: 12px"></span>
            <a href="#" prevent-click data-toggle="collapse" data-target="#opennessChart" class="collapse-toggle" style="margin-right: -30px; margin-bottom: 10px">Índice de continuidad</a>
        </div>
        <div id="opennessChart" class="collapse" on-collapse="opennessChartVisible">
            <p>Mide la proporción de espacio abierto en un área de 1km2 medido alrededor de cada pixel construido.* Este indicador reporta a cantidad de espacio abierto a una distancia caminable para las distintas partes de la ciudad, es decir la cantidad de espacio abierto en cada barrio.</p>
            <p><small>*Unidad de análisis pixeles de 30x30.</small></p>
        </div>

    </div>
</div>

<div id="controlsIcon" ng-show="!controlsVisible">
        <span class="glyphicon glyphicon-info-sign" ng-click="toggleControlsVisibility()"
              tooltip="Mostrar los controles" placement="auto right"></span>
</div>

<div id="zoomControls">
    <ul class="nav nav-pills">
        <li>
            <a href="#" prevent-click ng-click="zoomOut()">-</a>
        </li>
        <li>
            <a href="#" prevent-click ng-click="zoomIn()">+</a>
        </li>
    </ul>
</div>

<div id="controls" ng-show="controlsVisible">
    <div class="alert alert-info">
        <button type="button" class="close fui-cross" ng-click="toggleControlsVisibility()"></button>

        <!-- Zoning controls -->
        <label class="checkbox" for="zoningCheck">
            <input type="checkbox" value="" id="zoningCheck" data-toggle="checkbox"
                   flatui-checkbox="zoningSlider" ng-model="selection.zoning.visible"
                   ng-change="toggleZoningLayerVisibility()">
            <strong>Zonificación</strong>
        </label>
        <div class="ui-slider" id="zoningSlider"
             ui-slider="{range: 'min'}" min="0.0" max="1.0" step="0.01" disabled="true" use-decimals ng-model="zoning.opacity">
        </div>
        <div class="slider-labels"><span class="pull-left">0</span><span class="pull-right">100</span></div>
        <hr style="margin-top: 36px"/>
        
        <!-- Urban Area controls -->
        <label class="checkbox" for="urbanAreaCheck">
            <input type="checkbox" value="" id="urbanAreaCheck" data-toggle="checkbox" checked
                   flatui-checkbox="urbanAreaSlider" ng-model="selection.urbanArea.visible"
                   ng-change="toggleLayerVisibility(urbanArea)">
            <strong>Área Urbana</strong>
        </label>
        <ul class="nav nav-pills" ng-class="{disabled: !selection.urbanArea.visible}">
            <li ng-class="{active: selection.urbanArea.moment == 't0'}">
                <a href="#" prevent-click ng-click="setLayerMoment(urbanArea, 't0')">1990</a>
            </li>
            <li ng-class="{active: selection.urbanArea.moment == 't1'}">
                <a href="#" prevent-click ng-click="setLayerMoment(urbanArea, 't1')">2000</a>
            </li>
            <li ng-class="{active: selection.urbanArea.moment == 't2'}">
                <a href="#" prevent-click ng-click="setLayerMoment(urbanArea, 't2')">2010</a>
            </li>
        </ul>
        <div class="ui-slider" id="urbanAreaSlider"
             ui-slider="{range: 'min'}" min="0.0" max="1.0" step="0.01" use-decimals ng-model="urbanArea.opacity">
        </div>
        <div class="slider-labels"><span class="pull-left">0</span><span class="pull-right">100</span></div>
        <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !urbanAreaLegendVisible, 'glyphicon-chevron-down': urbanAreaLegendVisible}" style="font-size: 12px"></span>
        <a href="#" prevent-click data-toggle="collapse" data-target="#urbanAreaLegend" style="font-size: 12px">Leyenda</a>

        <div id="urbanAreaLegend" class="collapse" on-collapse="urbanAreaLegendVisible">
            <ul class="list-unstyled legend urban-area">
                <li>
                    <div class="legend-box pull-left urban-built-up"></div> Área urbana construida
                </li>
                <li>
                    <div class="legend-box pull-left suburban-built-up"></div> Área suburbana construida
                </li>
                <li>
                    <div class="legend-box pull-left rural-built-up"></div> Área rural construida
                </li>
                <li class="double-height">
                    <div class="legend-box pull-left urbanized-open-land"></div> Espacios abiertos en entornos urbanizados
                </li>
                <li>
                    <div class="legend-box pull-left captured-open-land"></div> Espacios abiertos captados
                </li>
                <li>
                    <div class="legend-box pull-left rural-open-land"></div> Espacio rural abierto
                </li>
                <li>
                    <div class="legend-box pull-left water"></div> Agua
                </li>
            </ul>
        </div>
        <hr/>

        <!-- Urban Footprint controls -->
        <label class="checkbox" for="urbanFootprintCheck">
            <input type="checkbox" value="" id="urbanFootprintCheck" data-toggle="checkbox" checked
                   flatui-checkbox="urbanFootprintSlider" ng-model="selection.urbanFootprint.visible"
                   ng-change="toggleLayerVisibility(urbanFootprint)">
            <strong>Huella Urbana</strong>
        </label>
        <ul class="nav nav-pills" ng-class="{disabled: !selection.urbanFootprint.visible}">
            <li ng-class="{active: selection.urbanFootprint.moment == 't0'}">
                <a href="#" prevent-click ng-click="setLayerMoment(urbanFootprint, 't0')">1990</a>
            </li>
            <li ng-class="{active: selection.urbanFootprint.moment == 't1'}">
                <a href="#" prevent-click ng-click="setLayerMoment(urbanFootprint, 't1')">2000</a>
            </li>
            <li ng-class="{active: selection.urbanFootprint.moment == 't2'}">
                <a href="#" prevent-click ng-click="setLayerMoment(urbanFootprint, 't2')">2010</a>
            </li>
        </ul>
        <div class="ui-slider" id="urbanFootprintSlider"
             ui-slider="{range: 'min'}" min="0.0" max="1.0" step="0.01" use-decimals ng-model="urbanFootprint.opacity">
        </div>
        <div class="slider-labels"><span class="pull-left">0</span><span class="pull-right">100</span></div>
        <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !urbanFootprintLegendVisible, 'glyphicon-chevron-down': urbanFootprintLegendVisible}" style="font-size: 12px"></span>
        <a href="#" prevent-click data-toggle="collapse" data-target="#urbanFootprintLegend" style="font-size: 12px">Leyenda</a>
        <div id="urbanFootprintLegend" class="collapse" on-collpase="urbanFootprintLegendVisible">
            <ul class="list-unstyled legend urban-footprint">
                <li>
                    <div class="legend-box pull-left urban-built-up"></div> Área urbana construida
                </li>
                <li>
                    <div class="legend-box pull-left suburban-built-up"></div> Área suburbana construida
                </li>
                <li>
                    <div class="legend-box pull-left rural-built-up"></div> Área rural construida
                </li>
                <li class="double-height">
                    <div class="legend-box pull-left fringe-open-land"></div> Espacios abiertos del borde urbano
                </li>
                <li>
                    <div class="legend-box pull-left captured-open-land"></div> Espacios abiertos captados
                </li>
                <li>
                    <div class="legend-box pull-left rural-open-land"></div> Espacio rural abierto
                </li>
                <li>
                    <div class="legend-box pull-left water"></div> Agua
                </li>
            </ul>
        </div>
        <hr/>

        <!-- New Development controls -->
        <label class="checkbox" for="newDevelopmentCheck">
            <input type="checkbox" value="" id="newDevelopmentCheck" data-toggle="checkbox" checked
                   flatui-checkbox="newDevelopmentSlider" ng-model="selection.newDevelopment.visible"
                   ng-change="toggleLayerVisibility(newDevelopment)">
            <strong>Nuevo crecimiento</strong>
        </label>
        <ul class="nav nav-pills" ng-class="{disabled: !selection.newDevelopment.visible}">
            <li ng-class="{active: selection.newDevelopment.moment == 't0_t1'}">
                <a href="#" prevent-click ng-click="setLayerMoment(newDevelopment, 't0_t1')">1990-2000</a>
            </li>
            <li ng-class="{active: selection.newDevelopment.moment == 't1_t2'}">
                <a href="#" prevent-click ng-click="setLayerMoment(newDevelopment, 't1_t2')">2000-2010</a>
            </li>
        </ul>
        <div class="ui-slider" id="newDevelopmentSlider"
             ui-slider="{range: 'min'}" min="0.0" max="1.0" step="0.01" use-decimals ng-model="newDevelopment.opacity">
        </div>
        <div class="slider-labels"><span class="pull-left">0</span><span class="pull-right">100</span></div>
        <span class="glyphicon" ng-class="{'glyphicon-chevron-right': !newDevelopmentLegendVisible, 'glyphicon-chevron-down': newDevelopmentLegendVisible}" style="font-size: 12px"></span>
        <a href="#" prevent-click data-toggle="collapse" data-target="#newDevelopmentLegend" style="font-size: 12px">Leyenda</a>
        <div id="newDevelopmentLegend" class="collapse" on-collapse="newDevelopmentLegendVisible">
            <ul class="list-unstyled legend new-development">
                <li>
                    <div class="legend-box pull-left infill"></div> Completamiento
                </li>
                <li>
                    <div class="legend-box pull-left extension"></div> Extensión
                </li>
                <li>
                    <div class="legend-box pull-left leapfrog"></div> Crecimiento discontínuo
                </li>
            </ul>
        </div>

    </div>
</div>

<div id="mapTypeControls">
    <ul class="nav nav-pills">
        <li ng-class="{active: mapTypeId == 'roadmap'}">
            <a href="#" prevent-click ng-click="setMapType('roadmap')">Mapa</a>
        </li>
        <li ng-class="{active: mapTypeId == 'satellite'}">
            <a href="#" prevent-click ng-click="setMapType('satellite')">Satelite</a>
        </li>
        <li ng-class="{active: mapTypeId == 'terrain'}">
            <a href="#" prevent-click ng-click="setMapType('terrain')">Terreno</a>
        </li>
    </ul>
</div>

<div id="header">
    <h5 class="pull-left">San Luis</h5>
    <input type="text" data-provide="typeahead" placeholder="Buscar municipio" class="form-control" typeahead>
    <div class="logos pull-right">
        <ul class="list-inline">
            <li>
                <img src="images/logo-cipuv.png">
            </li>
            <li>
                <img src="images/logo-utdt.png">
            </li>
        </ul>
    </div>
</div>

<div google-map zoom="13" min-zoom="5" max-zoom="15" class="map-canvas"></div>
</div>

</div>

<!-- GeoXML3 -->
<script src="js/vendor/GeoJSON.js"></script>

<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.1.min.js"><\/script>')</script>
<script src="js/vendor/jquery-ui-1.10.3.custom.min.js"></script>

<!-- Flat UI -->
<script src="bootstrap/js/bootstrap.min.js"></script>
<script src="js/flatui-checkbox.js"></script>

<!-- Angular -->
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
<script>window.angular || document.write('<script src="js/vendor/angular.min.js"><\/script>')</script>

<!-- D3.js -->
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>window.angular || document.write('<script src="js/vendor/d3.v3.min.js"><\/script>')</script>
<script src="js/d3tooltip.js"></script>

<!-- The App -->
<script src="js/ui-slider.js"></script>
<script src="js/bootstrap-typeahead.js"></script>
<script src="js/google-map.js"></script>
<script src="js/main.js"></script>

<!-- Google Analytics -->
<script>
    var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src='//www.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>
